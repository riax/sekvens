if("object"!=typeof module&&"function"!=typeof define)var require={},exports={},module={exports:{}},sekvens=exports;var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){if("object"==typeof module&&"object"==typeof module.exports){var e=t(require,exports);void 0!==e&&(module.exports=e)}else"function"==typeof define&&define.amd&&define(["require","exports"],t)}(function(t,e){function n(t){return new s(t)}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return new r(t)}e.linear=function(t){return t},e.easeInQuad=function(t){return t*t},e.easeOutQuad=function(t){return t*(2-t)},e.easeInOutQuad=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},e.easeInCubic=function(t){return t*t*t},e.easeOutCubic=function(t){return--t*t*t+1},e.easeInOutCubic=function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},e.easeInQuart=function(t){return t*t*t*t},e.easeOutQuart=function(t){return 1- --t*t*t*t},e.easeInOutQuart=function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},e.easeInQuint=function(t){return t*t*t*t*t},e.easeOutQuint=function(t){return 1+--t*t*t*t*t},e.easeInOutQuint=function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t};var i=1e3/60;e.from=n,e.chain=o;var u=function(){function t(){this.numberOfRepeats=0,this.onCompleteCallbacks=[]}return t.prototype.repeat=function(t){return void 0===t&&(t=Number.MAX_VALUE),this.numberOfRepeats=t,this},t.prototype.done=function(t){return this.onCompleteCallbacks.push(t),this},t.prototype.executeOnComplete=function(){for(var t=0,e=this.onCompleteCallbacks;t<e.length;t++){var n=e[t];n()}},t}();e.AnimationBase=u;var r=function(t){function e(e){t.call(this),this.sequences=e,this.currentIndex=0}return __extends(e,t),e.prototype.go=function(t){var e=this,n=0,o=function(i){var u=e.sequences[i];u.go(function(){var u=i+1,r=n++<e.numberOfRepeats;return void 0===e.sequences[u]?void(r?o(0):(t&&t(),e.executeOnComplete())):void o(u)}),e.currentIndex=i};this.sequences.length>0&&o(0)},e.prototype.stop=function(){this.sequences[this.currentIndex].stop()},e}(u);e.SequenceAnimation=r;var s=function(t){function n(e){t.call(this),this.actions=[],this.sequence=null,this.initialValue=e}return __extends(n,t),n.prototype.to=function(t,n,o){void 0===o&&(o=e.easeInOutCubic);var u=this.initialValue,r=n/i,s=1/r,a=t-this.initialValue,c=0;return this.actions.push(function(){var e=u+o(c+=s)*a;return{isLast:Math.round(e)===t,value:Math.round(e)}}),this.initialValue=Math.round(t),this},n.prototype.wait=function(t){var e=Math.floor(t/i),n=0;return this.actions.push(function(){return{isLast:n++===e,value:null}}),this},n.prototype.stop=function(){this.stopAnimation()},n.prototype.on=function(t){return this.stepCompleteCallback=t,this},n.prototype.go=function(t){var e=this,n=0,o=0;this.sequence=this.sequence||this.createSequence(this.actions),this.startAnimation(function(){var i=e.sequence[o++];void 0!==i?null!==i&&e.stepCompleteCallback&&e.stepCompleteCallback(i):++n<e.numberOfRepeats?o=0:(e.stop(),e.executeOnComplete(),t&&t())})},n.prototype.startAnimation=function(t){this.animationId=setInterval(function(){return t()},i)},n.prototype.stopAnimation=function(){clearInterval(this.animationId),this.animationId=null},n.prototype.createSequence=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n],i=void 0;do{var u=o();e.push(u.value),i=u.isLast}while(!i)}return e},n}(u);e.ValueAnimation=s});